<div class="flex justify-content-center">
    <p-card
        styleClass="shadow-3 m-3 justify-content-center"
        [style]="{ 'min-width':'40rem' }"
        header="Player View"
    >
        <div class="flex justify-content-between align-content-center align-items-center">
            <button
                pButton
                pRipple
                icon="pi pi-arrow-left"
                pTooltip="Return to the table"
                tooltipPosition="top"
                (click)="handleBackEvent()"
            ></button>
            <div class="flex justify-content-between align-content-center align-items-center gap-3">
                <button
                    pButton
                    pRipple
                    icon="pi pi-pencil"
                    class="p-button-warning"
                    pTooltip="Edit player data"
                    tooltipPosition="top"
                ></button>
                <button
                    pButton
                    pRipple
                    icon="pi pi-trash"
                    class="p-button-danger"
                    pTooltip="Delete player"
                    tooltipPosition="top"
                ></button>
            </div>
        </div>

        <div class="flex justify-content-center align-content-center align-items-center mt-3 gap-3">
            <div class="{{ player.profilePictureLink ? 'player-profile-picture' : 'player-profile-without-picture' }}">
                <img
                    src="{{ player.profilePictureLink || '../../../../../assets/without-picture.png' }}"
                    alt="profile-picture"
                >
            </div>
            <div class="flex flex-column justify-content-center align-content-center align-items-center">
                <p-fieldset legend="Name" styleClass="m-1 w-6 white-space-nowrap border-blue-400">
                    <p class="m-0 text-lg">
                        {{player.name}}
                    </p>
                </p-fieldset>
                <p-fieldset legend="Position" styleClass="m-1 w-6 border-blue-400">
                    <p class="m-0 text-lg white-space-nowrap">
                        {{player.position.name}}
                    </p>
                </p-fieldset>
            </div>
        </div>

        <p-table
            *ngIf="player.parameters.length > 0; else withoutParameters"
            [value]="player.parameters"
            dataKey="id"
            styleClass="mt-3"
            [rows]="5"
            [paginator]="true"
            [showCurrentPageReport]="true"
            [rowHover]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} parameters"
            >
            <ng-template pTemplate="header">
                <tr>
                    <th id="1" pSortableColumn="id">
                        <div class="flex justify-content-between align-items-center">
                            <div class="flex justify-content-center align-items-center text-lg mt-1">
                                ID
                            </div>
                            <div class="flex justify-content-between align-items-center">
                                <p-sortIcon field="id"></p-sortIcon>
                                <p-columnFilter
                                    type="text"
                                    field="id"
                                    display="menu"
                                    matchMode="contains"
                                    [showMatchModes]="false"
                                    [showOperator]="false"
                                    [showAddButton]="false"
                                    style="height: 1.7rem;"
                                ></p-columnFilter>
                            </div>
                        </div>
                    </th>
                    <th id="2" pSortableColumn="name">
                        <div class="flex justify-content-between align-items-center">
                            <div class="flex justify-content-center align-items-center text-lg mt-1">
                                Name
                            </div>
                            <div class="flex justify-content-between align-items-center">
                                <p-sortIcon field="name"></p-sortIcon>
                                <p-columnFilter
                                    type="text"
                                    field="name"
                                    display="menu"
                                    matchMode="contains"
                                    [showMatchModes]="false"
                                    [showOperator]="false"
                                    [showAddButton]="false"
                                    style="height: 1.7rem;"
                                ></p-columnFilter>
                            </div>
                        </div>
                    </th>
                    <th id="3" pSortableColumn="playerScore">
                        <div class="flex justify-content-between align-items-center">
                            <div class="flex justify-content-center align-items-center text-lg mt-1">
                                Score
                            </div>
                            <div class="flex justify-content-between align-items-center">
                                <p-sortIcon field="playerScore"></p-sortIcon>
                                <p-columnFilter
                                    type="text"
                                    field="playerScore"
                                    display="menu"
                                    matchMode="contains"
                                    [showMatchModes]="false"
                                    [showOperator]="false"
                                    [showAddButton]="false"
                                    style="height: 1.7rem;"
                                ></p-columnFilter>
                            </div>
                        </div>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-parameter>
                <tr>
                    <td>{{ parameter.id }}</td>
                    <td>{{ parameter.name }}</td>
                    <td>{{ parameter.playerScore }}</td>
                </tr>
            </ng-template>
        </p-table>

        <ng-template #withoutParameters>
            <h3 class="text-center text-large text-green-900">No parameters for now!</h3>
        </ng-template>
    </p-card>
</div>
