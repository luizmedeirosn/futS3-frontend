"use strict";(self.webpackChunkfutS3_frontend=self.webpackChunkfutS3_frontend||[]).push([[461],{3461:(Y,u,i)=>{i.r(u),i.d(u,{PlayersHomeModule:()=>Q});var m=i(6814),_=i(7553),w=i(6208),x=i(8645),c=i(9773),d=i(8449),P=i(6954),e=i(4946),T=i(7549),h=i(5219),Z=i(6858),C=i(5369),b=i(695),y=i(4532),s=i(3428),E=i(30);function A(a,l){1&a&&(e.TgZ(0,"tr")(1,"th",6)(2,"div",7)(3,"div",8),e._uU(4," ID "),e.qZA(),e.TgZ(5,"div",7),e._UZ(6,"p-sortIcon",9)(7,"p-columnFilter",10),e.qZA()()(),e.TgZ(8,"th",11)(9,"div",7)(10,"div",8),e._uU(11," Picture "),e.qZA()()(),e.TgZ(12,"th",12)(13,"div",7)(14,"div",13),e._uU(15," Name "),e.qZA(),e.TgZ(16,"div",7),e._UZ(17,"p-sortIcon",14)(18,"p-columnFilter",15),e.qZA()()(),e.TgZ(19,"th",16)(20,"div",7)(21,"div",8),e._uU(22," Position "),e.qZA(),e.TgZ(23,"div",7),e._UZ(24,"p-sortIcon",17)(25,"p-columnFilter",18),e.qZA()()()()),2&a&&(e.xp6(7),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(11),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(7),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function S(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr",19)(1,"td",20),e.NdJ("click",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.handleViewFullDataPlayerEvent(o.id))}),e._uU(2),e.qZA(),e.TgZ(3,"td",20),e.NdJ("click",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.handleViewFullDataPlayerEvent(o.id))}),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"td",20),e.NdJ("click",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.handleViewFullDataPlayerEvent(o.id))}),e._uU(6),e.ALo(7,"shorten"),e.qZA(),e.TgZ(8,"td",20),e.NdJ("click",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.handleViewFullDataPlayerEvent(o.id))}),e._uU(9),e.ALo(10,"shorten"),e.qZA()()}if(2&a){const t=l.$implicit;e.xp6(2),e.hij(" ",t.id," "),e.xp6(2),e.Tol(t.profilePictureLink?"players-table-profile-picture":"players-table-profile-without-picture"),e.s9C("src",t.profilePictureLink||"../../../../../../../assets/without-picture.png",e.LSH),e.xp6(2),e.hij(" ",e.xi3(7,7,t.name,25)," "),e.xp6(3),e.hij(" ",e.xi3(10,10,t.position.name,30)," ")}}const M=function(){return{width:"60rem"}},O=function(){return["id","name"]};function D(a,l){if(1&a&&(e.TgZ(0,"p-card",2)(1,"p-table",3),e.YNc(2,A,26,9,"ng-template",4),e.YNc(3,S,11,13,"ng-template",5),e.qZA()()),2&a){const t=e.oxw();e.Akn(e.DdM(8,M)),e.xp6(1),e.Q6J("value",t.players)("rows",10)("globalFilterFields",e.DdM(9,O))("paginator",!0)("showCurrentPageReport",!0)("rowHover",!0)}}let U=(()=>{class a{constructor(){this.viewEvent=new e.vpe}handleViewFullDataPlayerEvent(t){this.viewEvent.emit({id:t})}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-players-table"]],inputs:{players:"players"},outputs:{viewEvent:"viewEvent"},decls:2,vars:1,consts:[[1,"flex","justify-content-center"],["header","Players",3,"style",4,"ngIf"],["header","Players"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} players","styleClass","fadein animation-duration-1000 animation-iteration-1 animation-ease-out",3,"value","rows","globalFilterFields","paginator","showCurrentPageReport","rowHover"],["pTemplate","header"],["pTemplate","body"],["id","1","pSortableColumn","id"],[1,"flex","justify-content-between","align-items-center"],[1,"flex","justify-content-center","align-items-center","text-lg","mt-1"],["field","id"],["type","text","field","id","display","menu","matchMode","contains",2,"height","1.7rem",3,"showMatchModes","showOperator","showAddButton"],["id","2","pSortableColumn","",2,"cursor","default"],["id","3","pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center","text-lg","mt-1"],["field","name"],["type","text","field","name","display","menu","matchMode","contains",2,"height","1.8rem",3,"showMatchModes","showOperator","showAddButton"],["id","4","pSortableColumn","position.name"],["field","position.name"],["type","text","field","position.name","display","menu","matchMode","contains",2,"height","1.8rem",3,"showMatchModes","showOperator","showAddButton"],[2,"cursor","pointer"],[3,"click"],["alt","",3,"src"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0),e.YNc(1,D,4,10,"p-card",1),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngIf",n.players))},dependencies:[m.O5,y.Z,h.jx,s.iA,s.lQ,s.fz,s.xl,E.T],styles:[".players-table-profile-picture{margin-top:.25rem;width:6rem;height:6rem;border-style:solid;border-width:3px;border-color:var(--green-700);border-radius:50%}.players-table-profile-without-picture{margin-top:.25rem;width:6rem;height:6rem}\n"],encapsulation:2})}return a})();var g=i(707),f=i(9445),v=i(3259);function I(a,l){if(1&a&&(e.TgZ(0,"div",10)(1,"div"),e._UZ(2,"img",11),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"p-panel",14)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"p-panel",15)(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"p-panel",16)(12,"p"),e._uU(13),e.qZA()()(),e.TgZ(14,"div",13)(15,"p-panel",17)(16,"p"),e._uU(17),e.qZA()(),e.TgZ(18,"p-panel",18)(19,"p"),e._uU(20),e.qZA()()()()()),2&a){const t=e.oxw();e.xp6(1),e.Tol(t.player.profilePictureLink?"player-profile-picture":"player-profile-without-picture"),e.xp6(1),e.s9C("src",t.player.profilePictureLink||"../../../../../assets/without-picture.png",e.LSH),e.xp6(5),e.hij(" ",t.player.name," "),e.xp6(3),e.hij(" ",t.player.age?t.player.age+" years":"Unregistered data"," "),e.xp6(3),e.hij(" ",t.player.height?t.player.height+" cm":"Unregistered data"," "),e.xp6(4),e.hij(" ",t.player.position.name," "),e.xp6(3),e.hij(" ",t.player.team," ")}}function j(a,l){1&a&&(e.TgZ(0,"tr")(1,"th",22)(2,"div",23)(3,"div",24),e._uU(4," ID "),e.qZA(),e.TgZ(5,"div",23),e._UZ(6,"p-sortIcon",25)(7,"p-columnFilter",26),e.qZA()()(),e.TgZ(8,"th",27)(9,"div",23)(10,"div",24),e._uU(11," Name "),e.qZA(),e.TgZ(12,"div",23),e._UZ(13,"p-sortIcon",28)(14,"p-columnFilter",29),e.qZA()()(),e.TgZ(15,"th",30)(16,"div",23)(17,"div",24),e._uU(18," Score "),e.qZA(),e.TgZ(19,"div",23),e._UZ(20,"p-sortIcon",31)(21,"p-columnFilter",32),e.qZA()()()()),2&a&&(e.xp6(7),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(7),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(7),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function B(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&a){const t=l.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.playerScore)}}function H(a,l){if(1&a&&(e.TgZ(0,"p-table",19),e.YNc(1,j,22,9,"ng-template",20),e.YNc(2,B,7,3,"ng-template",21),e.qZA()),2&a){const t=e.oxw();e.Q6J("value",t.player.parameters)("rows",5)("paginator",!0)("showCurrentPageReport",!0)("rowHover",!0)}}function J(a,l){1&a&&(e.TgZ(0,"h3",33),e._uU(1," No parameters for now! "),e.qZA())}const F=function(){return{width:"60rem"}};let R=(()=>{class a{constructor(){this.playerEvents=d.S,this.backEvent=new e.vpe,this.editOrDeletePlayerEvent=new e.vpe}handleBackEvent(){this.backEvent.emit()}handleEditOrDeletePlayerEvent(t){this.editOrDeletePlayerEvent.emit(t)}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-player-view"]],inputs:{player:"player"},outputs:{backEvent:"backEvent",editOrDeletePlayerEvent:"editOrDeletePlayerEvent"},decls:11,vars:6,consts:[[1,"flex","justify-content-center","overflow-hidden"],["styleClass","fadein animation-duration-300 animation-iteration-1 animation-ease-out","header","Player View"],[1,"flex","justify-content-between","align-content-center","align-items-center"],["pButton","","pRipple","","icon","pi pi-arrow-left","pTooltip","Return to the table","tooltipPosition","top",3,"click"],[1,"flex","justify-content-between","align-content-center","align-items-center","gap-3"],["pButton","","pRipple","","icon","pi pi-pencil","pTooltip","Edit player data","tooltipPosition","top",1,"p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Delete player","tooltipPosition","top",1,"p-button-danger",3,"click"],["class","flex justify-content-center align-content-center align-items-center mt-3 gap-3",4,"ngIf"],["dataKey","id","styleClass","mt-3","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} parameters",3,"value","rows","paginator","showCurrentPageReport","rowHover",4,"ngIf","ngIfElse"],["withoutParameters",""],[1,"flex","justify-content-center","align-content-center","align-items-center","mt-3","gap-3"],["alt","profile-picture",3,"src"],[1,"panel-custom","flex","flex-column","align-items-center","justify-content-center","gap-3"],[1,"panel-custom","flex","justify-content-center","align-items-start","gap-3"],["header","Name"],["header","Age"],["header","Height"],["header","Position"],["header","Team"],["dataKey","id","styleClass","mt-3","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} parameters",3,"value","rows","paginator","showCurrentPageReport","rowHover"],["pTemplate","header"],["pTemplate","body"],["id","1","pSortableColumn","id"],[1,"flex","justify-content-between","align-items-center"],[1,"flex","justify-content-center","align-items-center","text-lg","mt-1"],["field","id"],["type","text","field","id","display","menu","matchMode","contains",2,"height","1.7rem",3,"showMatchModes","showOperator","showAddButton"],["id","2","pSortableColumn","name"],["field","name"],["type","text","field","name","display","menu","matchMode","contains",2,"height","1.7rem",3,"showMatchModes","showOperator","showAddButton"],["id","3","pSortableColumn","playerScore"],["field","playerScore"],["type","text","field","playerScore","display","menu","matchMode","contains",2,"height","1.7rem",3,"showMatchModes","showOperator","showAddButton"],[1,"text-center","text-large","text-green-900"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.handleBackEvent()}),e.qZA(),e.TgZ(4,"div",4)(5,"button",5),e.NdJ("click",function(){return n.handleEditOrDeletePlayerEvent({id:n.player.id,action:n.playerEvents.EDIT})}),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.handleEditOrDeletePlayerEvent({id:n.player.id,action:n.playerEvents.DELETE})}),e.qZA()()(),e.YNc(7,I,21,9,"div",7),e.YNc(8,H,3,5,"p-table",8),e.YNc(9,J,2,0,"ng-template",null,9,e.W1O),e.qZA()()),2&r){const o=e.MAs(10);e.xp6(1),e.Akn(e.DdM(5,F)),e.xp6(6),e.Q6J("ngIf",n.player),e.xp6(1),e.Q6J("ngIf",n.player&&n.player.parameters.length>0)("ngIfElse",o)}},dependencies:[m.O5,y.Z,h.jx,s.iA,s.lQ,s.fz,s.xl,g.Hq,f.s,v.u],styles:[".player-profile-picture img{width:270px;height:330px;border-radius:.375rem;border-style:solid;border-color:var(--green-700);border-width:.2rem}.player-profile-without-picture img{width:270px;height:270px}\n"],encapsulation:2})}return a})();function V(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-players-table",2),e.NdJ("viewEvent",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.handleViewFullDataPlayerAction(n))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("players",t.players)}}function N(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"app-player-view",3),e.NdJ("backEvent",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleBackAction())})("editOrDeletePlayerEvent",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEditOrDeletePlayerEvent(n))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("player",t.player)}}const k=[{path:"",component:(()=>{class a{constructor(t,r,n,o,p){this.playerService=t,this.messageService=r,this.customDialogService=n,this.confirmationService=o,this.changesOnService=p,this.$destroy=new x.x,this.messageLife=3e3}ngOnInit(){this.setPlayerWithApi(),this.playerService.$playerView.pipe((0,c.R)(this.$destroy)).subscribe({next:t=>{this.playerView=t},error:t=>{console.log(t)}}),this.changesOnService.getChangesOn().pipe((0,c.R)(this.$destroy)).subscribe({next:t=>{if(t){this.setPlayerWithApi();const r=this.playerService.changedPlayerId;r&&this.selectPlayer(r)}},error:t=>{console.log(t)}})}setPlayerWithApi(){this.playerService.findAll().pipe((0,c.R)(this.$destroy)).subscribe({next:t=>{t.length>0&&(this.players=t)},error:t=>{403!=t.status&&this.messageService.add({severity:"error",summary:"Error",detail:"Unexpected error!",life:this.messageLife}),console.log(t)}})}selectPlayer(t){t&&this.playerService.findFullById(t).pipe((0,c.R)(this.$destroy)).subscribe({next:r=>{r&&(this.player=r),this.playerService.changedPlayerId=t},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Unable to access the player!",life:this.messageLife}),console.log(r)}})}handleViewFullDataPlayerAction(t){t&&(this.selectPlayer(t.id),this.playerService.$playerView.next(!0))}handleBackAction(){this.playerService.$playerView.next(!1)}deletePlayer(t){t&&this.playerService.deleteById(t).pipe((0,c.R)(this.$destroy)).subscribe({next:()=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Success",detail:"Player deleted successfully!",life:2e3}),this.playerService.changedPlayerId=void 0,this.changesOnService.setChangesOn(!0),this.handleBackAction()},error:r=>{console.log(r),this.messageService.clear(),this.messageService.add({key:"deletion-error",severity:"error",summary:"Error",detail:"Unable to delete the player!",life:6e3}),this.changesOnService.setChangesOn(!1)}})}deletePlayerConfirmation(){this.player&&this.confirmationService.confirm({message:`Confirm the deletion of player: ${this.player.name}?`,header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptLabel:"Yes",rejectLabel:"No",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-text",acceptIcon:"none",rejectIcon:"none",accept:()=>this.deletePlayer(this.player.id)})}handleEditOrDeletePlayerEvent(t){t&&t.action===d.S.EDIT&&(this.dynamicDialogRef=this.customDialogService.open(P.G,{position:"top",header:d.S.EDIT.valueOf(),contentStyle:{overflow:"auto"},baseZIndex:1e4,data:{$event:d.S.EDIT,selectedPlayerId:t.id}}),this.dynamicDialogRef.onClose.pipe((0,c.R)(this.$destroy)).subscribe(()=>t.id&&this.selectPlayer(t.id))),t&&t.action===d.S.DELETE&&this.deletePlayerConfirmation()}ngOnDestroy(){this.$destroy.next(),this.$destroy.complete()}static#e=this.\u0275fac=function(r){return new(r||a)(e.Y36(T.l),e.Y36(h.ez),e.Y36(Z.W),e.Y36(h.YP),e.Y36(C.g))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-players-home"]],decls:3,vars:2,consts:[[3,"players","viewEvent",4,"ngIf"],[3,"player","backEvent","editOrDeletePlayerEvent",4,"ngIf"],[3,"players","viewEvent"],[3,"player","backEvent","editOrDeletePlayerEvent"]],template:function(r,n){1&r&&(e._UZ(0,"app-menubar-navigation"),e.YNc(1,V,1,1,"app-players-table",0),e.YNc(2,N,1,1,"app-player-view",1)),2&r&&(e.xp6(1),e.Q6J("ngIf",!n.playerView),e.xp6(1),e.Q6J("ngIf",n.playerView))},dependencies:[m.O5,b.i,U,R],encapsulation:2})}return a})()}];var q=i(7018);let Q=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({imports:[m.ez,_.Bz.forChild(k),w.m,y.d,s.U$,q.EV,g.hJ,f.Q,v.z]})}return a})()}}]);