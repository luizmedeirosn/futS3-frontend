"use strict";(self.webpackChunkfutS3_frontend=self.webpackChunkfutS3_frontend||[]).push([[338],{7338:(T,w,d)=>{d.d(w,{P:()=>y,_:()=>L});var c=d(6814),t=d(4946),v=d(5219),l=d(2076);const b=["container"],g=["content"],_=["xBar"],M=["yBar"];function B(r,E){1&r&&t.GkF(0)}const C=["*"];let y=(()=>{class r{platformId;el;zone;cd;document;renderer;style;styleClass;step=5;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(e,i,n,s,o,h){this.platformId=e,this.el=i,this.zone=n,this.cd=s,this.document=o,this.renderer=h}ngAfterViewInit(){(0,c.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}calculateContainerHeight(){let e=this.containerViewChild.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement;const s=this.document.defaultView;let o=s.getComputedStyle(e),h=s.getComputedStyle(n),a=l.p.getHeight(e)-parseInt(h.height,10);"none"!=o["max-height"]&&0==a&&(e.style.height=i.offsetHeight+parseInt(h.height,10)>parseInt(o["max-height"],10)?o["max-height"]:i.offsetHeight+parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+"px")}moveBar(){let e=this.containerViewChild.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,s=i.scrollWidth,o=i.clientWidth,h=-1*(e.clientHeight-n.clientHeight);this.scrollXRatio=o/s;let a=this.yBarViewChild.nativeElement,m=i.scrollHeight,f=i.clientHeight,D=-1*(e.clientWidth-a.clientWidth);this.scrollYRatio=f/m,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)n.setAttribute("data-p-scrollpanel-hidden","true"),l.p.addClass(n,"p-scrollpanel-hidden");else{n.setAttribute("data-p-scrollpanel-hidden","false"),l.p.removeClass(n,"p-scrollpanel-hidden");const u=Math.max(100*this.scrollXRatio,10);n.style.cssText="width:"+u+"%; left:"+i.scrollLeft*(100-u)/(s-o)+"%;bottom:"+h+"px;"}if(this.scrollYRatio>=1)a.setAttribute("data-p-scrollpanel-hidden","true"),l.p.addClass(a,"p-scrollpanel-hidden");else{a.setAttribute("data-p-scrollpanel-hidden","false"),l.p.removeClass(a,"p-scrollpanel-hidden");const u=Math.max(100*this.scrollYRatio,10);a.style.cssText="height:"+u+"%; top: calc("+i.scrollTop*(100-u)/(m-f)+"% - "+n.clientHeight+"px);right:"+D+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if("vertical"===this.orientation)switch(e.code){case"ArrowDown":this.setTimer("scrollTop",this.step),e.preventDefault();break;case"ArrowUp":this.setTimer("scrollTop",-1*this.step),e.preventDefault();break;case"ArrowLeft":case"ArrowRight":e.preventDefault()}else if("horizontal"===this.orientation)switch(e.code){case"ArrowRight":this.setTimer("scrollLeft",this.step),e.preventDefault();break;case"ArrowLeft":this.setTimer("scrollLeft",-1*this.step),e.preventDefault();break;case"ArrowDown":case"ArrowUp":e.preventDefault()}}onKeyUp(){this.clearTimer()}repeat(e,i){this.contentViewChild.nativeElement[e]+=i,this.moveBar()}setTimer(e,i){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild.nativeElement.focus(),this.lastPageY=e.pageY,this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","true"),l.p.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),l.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild.nativeElement.focus(),this.lastPageX=e.pageX,this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),l.p.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),l.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):(this.isYBarClicked||this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=i/this.scrollXRatio})}onMouseMoveForYBar(e){let i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=i/this.scrollYRatio})}scrollTop(e){let i=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=e=e>i?i:e>0?e:0}onFocus(e){this.xBarViewChild.nativeElement.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild.nativeElement.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){"horizontal"===this.orientation&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),l.p.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),l.p.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),l.p.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(i){return new(i||r)(t.Y36(t.Lbi),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(c.K0),t.Y36(t.Qsj))};static \u0275cmp=t.Xpm({type:r,selectors:[["p-scrollPanel"]],contentQueries:function(i,n,s){if(1&i&&t.Suo(s,v.jx,4),2&i){let o;t.iGM(o=t.CRH())&&(n.templates=o)}},viewQuery:function(i,n){if(1&i&&(t.Gf(b,5),t.Gf(g,5),t.Gf(_,5),t.Gf(M,5)),2&i){let s;t.iGM(s=t.CRH())&&(n.containerViewChild=s.first),t.iGM(s=t.CRH())&&(n.contentViewChild=s.first),t.iGM(s=t.CRH())&&(n.xBarViewChild=s.first),t.iGM(s=t.CRH())&&(n.yBarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",step:"step"},ngContentSelectors:C,decls:11,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content",3,"mouseenter","scroll"],["content",""],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-x",3,"mousedown","keydown","keyup","focus","blur"],["xBar",""],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-y",3,"mousedown","keydown","keyup","focus"],["yBar",""]],template:function(i,n){1&i&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3,4),t.NdJ("mouseenter",function(){return n.moveBar()})("scroll",function(o){return n.onScroll(o)}),t.Hsn(5),t.YNc(6,B,1,0,"ng-container",5),t.qZA()(),t.TgZ(7,"div",6,7),t.NdJ("mousedown",function(o){return n.onXBarMouseDown(o)})("keydown",function(o){return n.onKeyDown(o)})("keyup",function(){return n.onKeyUp()})("focus",function(o){return n.onFocus(o)})("blur",function(){return n.onBlur()}),t.qZA(),t.TgZ(9,"div",8,9),t.NdJ("mousedown",function(o){return n.onYBarMouseDown(o)})("keydown",function(o){return n.onKeyDown(o)})("keyup",function(){return n.onKeyUp()})("focus",function(o){return n.onFocus(o)}),t.qZA()()),2&i&&(t.Tol(n.styleClass),t.Q6J("ngClass","p-scrollpanel p-component")("ngStyle",n.style),t.uIk("data-pc-name","scrollpanel"),t.xp6(2),t.uIk("data-pc-section","wrapper"),t.xp6(1),t.uIk("data-pc-section","content"),t.xp6(3),t.Q6J("ngTemplateOutlet",n.contentTemplate),t.xp6(1),t.uIk("aria-orientation","horizontal")("aria-valuenow",n.lastScrollLeft)("data-pc-section","barx"),t.xp6(2),t.uIk("aria-orientation","vertical")("aria-valuenow",n.lastScrollTop)("data-pc-section","bary"))},dependencies:[c.mk,c.tP,c.PC],styles:["@layer primeng{.p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}}\n"],encapsulation:2,changeDetection:0})}return r})(),L=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=t.oAB({type:r});static \u0275inj=t.cJS({imports:[c.ez]})}return r})()}}]);